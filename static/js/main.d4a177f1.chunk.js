(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},23:function(e,t,a){e.exports=a(49)},32:function(e,t,a){},33:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),s=a.n(c),o=a(1),i=a(14),l=a(13),m="SET_ACTIVE_INDEX",u="SET_FILTER",d="SET_FEED",p="SET_ALERTS";function f(e){return{type:m,payload:{index:e}}}function h(e){return{type:u,payload:{searchTerm:e,filter:function(t){return t.content.toLowerCase().includes(e.toLowerCase())}}}}var v=function(e,t){switch(t.type){case d:return Object(l.a)({},e,{feed:t.payload.feed,filteredFeed:t.payload.feed});case p:return Object(l.a)({},e,{alerts:t.payload.alerts,filteredAlerts:t.payload.alerts});case m:return Object(l.a)({},e,{activeIndex:t.payload.index});case u:return Object(l.a)({},e,{activeIndex:void 0,searchTerm:t.payload.searchTerm,filteredFeed:e.feed.filter(t.payload.filter),filteredAlerts:e.alerts.filter(t.payload.filter)});default:return e}},g=Object(i.b)(v,{feed:[],filteredFeed:[],alerts:[],filteredAlerts:[],searchTerm:""}),b=(a(32),a(2)),E=a(3),y=a(5),j=a(4),N=a(6),k=(a(33),a(20),function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"trending flex"},r.a.createElement("div",{className:"header"},"Trending Messages"),r.a.createElement("div",{className:"feed"},this.props.feed.map(function(t,a){return r.a.createElement("div",{className:"post"+(a===e.props.activeIndex?" active":""),key:"post"+a,id:"post"+a,onClick:function(){return e.props.onPostClick(a)}},r.a.createElement("div",{className:"type semibold left"},t.type),r.a.createElement("div",{className:"date right"},new Date(t.time).toLocaleTimeString()),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("span",{className:"name"},t.name,":"),r.a.createElement("span",{className:"content"},t.content))}),!this.props.feed.length&&this.props.hasSearchTerm&&r.a.createElement("div",{className:"emptyMessage"},"No posts found"),!this.props.feed.length&&!this.props.hasSearchTerm&&r.a.createElement("div",{className:"loader"},r.a.createElement("div",null,"Loading"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}},{key:"componentDidUpdate",value:function(){this.props.activeIndex&&s.a.findDOMNode(this).querySelector("#post"+this.props.activeIndex).scrollIntoViewIfNeeded()}}]),t}(n.Component)),O=Object(o.b)(function(e){return{feed:e.filteredFeed,activeIndex:e.activeIndex,hasSearchTerm:!!e.searchTerm}},function(e){return{onPostClick:function(t){e(f(t))}}})(k),w=a(12),T={width:"50%",height:"95%"},C=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(j.a)(t).call(this,e))).state={initialCenter:{lat:37.0902,lng:-80.6500523}},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.google;return r.a.createElement(w.Map,{className:"map",google:this.props.google,zoom:this.props.activeIndex?5:3,style:T,initialCenter:this.state.initialCenter,center:this.props.activeIndex?this.props.feed[this.props.activeIndex].location.coords:this.state.initialCenter},this.props.feed.map(function(t,a){return r.a.createElement(w.Marker,{key:"marker"+a,onClick:function(){return e.props.onMarkerClick(a)},position:t.location.coords})}),this.props.alerts.map(function(a,n){return r.a.createElement(w.Marker,{key:"marker"+n,onClick:function(){return e.props.onMarkerClick(n)},position:a.location.coords,icon:{url:"http://www.myiconfinder.com/uploads/iconsets/256-256-369f997cef4f440c5394ed2ae6f8eecd.png",scaledSize:new t.maps.Size(48,48)}})}))}}]),t}(n.Component),x=Object(o.b)(function(e){return{feed:e.filteredFeed,alerts:e.filteredAlerts,activeIndex:e.activeIndex}},function(e){return{onMarkerClick:function(t){e(f(t))}}})(Object(w.GoogleApiWrapper)({apiKey:"AIzaSyBSVR2Sk1Qx2nv7duw3_y-gIfqjeykvPK8"})(C)),I=(a(48),function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},r.a.createElement("span",{className:"searchIcon"},"\u26b2"),r.a.createElement("input",{value:this.props.searchTerm,onChange:this.props.onInputChange}),r.a.createElement("span",{className:"brandName"},"Dataminr"))}}]),t}(n.Component)),S=Object(o.b)(function(e){return{searchTerm:e.searchTerm}},function(e){return{onInputChange:function(t){e(h(t.currentTarget.value))}}})(I),M=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(j.a)(t).call(this,e))).state={terms:["fire","New","earthquake","party","accident"]},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"relatedTerms"},this.state.terms.map(function(t,a){return r.a.createElement("span",{"data-term":t,className:"term",key:"term"+a,onClick:e.props.onTermClick},r.a.createElement("span",{className:"searchIcon"},"\u26b2"),t)}))}}]),t}(n.Component),D=Object(o.b)(null,function(e){return{onTermClick:function(t){e(h(t.currentTarget.dataset.term))}}})(M),A=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"alerts flex"},r.a.createElement("div",{className:"header"},"Alerts"),r.a.createElement("div",{className:"feed"},this.props.feed.map(function(e,t){return r.a.createElement("div",{className:"post",key:"post"+t,id:"post"+t},r.a.createElement("div",{className:"type semibold left"},e.type),r.a.createElement("div",{className:"date right"},new Date(e.time).toLocaleDateString()),r.a.createElement("div",{className:"clearfix"}),e.image&&r.a.createElement("img",{alt:"news img",className:"right",src:e.image}),r.a.createElement("span",{className:"name"},e.name,":"),r.a.createElement("span",{className:"content"},e.content))}),!this.props.feed.length&&this.props.hasSearchTerm&&r.a.createElement("div",{className:"emptyMessage"},"No alerts found"),!this.props.feed.length&&!this.props.hasSearchTerm&&r.a.createElement("div",{className:"loader"},r.a.createElement("div",null,"Loading"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}}]),t}(n.Component),F=Object(o.b)(function(e){return{feed:e.filteredAlerts,activeIndex:e.activeIndex,hasSearchTerm:!!e.searchTerm}},null)(A);function L(){for(var e,t=[],a=0;a<25;a++){var n={};n.type=X(_),n.time=z(),n.name="@"+X(q)+X(R)+K(1,99),n.location=U(),n.content=(e=n.location,X(V)+" "+X(W)+" "+X(J)+" in "+e.name+X(B)+" "+G.split(" ").slice(0,K(10,36)).join(" ")),t.push(n)}return t.sort(function(e,t){return new Date(e.time)-new Date(t.time)})}var _=["MN","LN","ALT"];function z(e,t){var a=new Date,n=23*Math.random();return a.setHours(n),a}var q=["steve","john","bob","George","Zack","Alex"],R=["Smith","Jones","Davis","Wiliams","News","Alerts","Updates","TV","Times"];var P=[{name:"New York",coords:{lat:40.7128,lng:-74.006}},{name:"California",coords:{lat:36.7783,lng:-119.4179}},{name:"Florida",coords:{lat:27.6648,lng:-81.5158}},{name:"Texas",coords:{lat:31.9686,lng:-99.9018}},{name:"Utah",coords:{lat:39.321,lng:-111.0937}},{name:"Iowa",coords:{lat:41.878,lng:-93.0977}},{name:"North Carolina",coords:{lat:35.7596,lng:-79.0193}},{name:"Kentucky",coords:{lat:37.8393,lng:-84.27}},{name:"Washington",coords:{lat:47.7511,lng:-120.7401}}];function U(){var e=JSON.parse(JSON.stringify(X(P)));return e.coords.lat+=.6*Math.random()*Math.pow(-1,K(1,3)),e.coords.lng+=.6*Math.random()*Math.pow(-1,K(1,3)),e}var V=["Wow,","Can't believe it,","Check out the","Urgent!","News flash!","Alert!"],W=["big","giant","huge","small","crazy","rediculous","insane"],J=["fire","earthquake","flood","tornado","accident","crash","party"],B=[".","!","!!"],G="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";function Y(){var e=[],t=new Date;return e.push({type:"MN",time:new Date(t-1728e5),name:"@NYTimes",location:P[0],image:"https://media.zenfs.com/en-US/homerun/usa_today_news_641/d69f7bba918efe68b4a072f3c5d05e2a",content:"Police: Explosion and fire at Virginia gas station leaves three people dead"+G.split(" ").slice(0,K(10,36)).join(" ")}),e.push({type:"CTR",time:new Date(t-2592e5),name:"@Reuters",location:P[2],content:"Iran commander calls U.S. military in Gulf a target not a threat: ISNA"+G.split(" ").slice(0,K(10,36)).join(" ")}),e.push({type:"CTR",time:new Date(t-3456e5),name:"@USAToday",location:P[2],image:"https://s.yimg.com/uu/api/res/1.2/kzb3DT_zEqPoLtw13SaVLg--~B/Zmk9c3RyaW07aD0xMjM7cHlvZmY9MDtxPTgwO3c9MjIwO3NtPTE7YXBwaWQ9eXRhY2h5b24-/http://media.zenfs.com/en_us/News/afp.com/9c59bd9990c8fd33e2f7cbfb433ad2fbebd5c3f8.jpg.cf.jpg",content:"Venezuela's Juan Guaid\xf3 rallies his supporters as President Maduro clamps down"+G.split(" ").slice(0,K(10,36)).join(" ")}),e.push({type:"MKT",time:new Date(t-432e6),name:"@Reuters",location:P[2],content:"Graduation gifts: Why stocks are better than straight cash"+G.split(" ").slice(0,K(10,36)).join(" ")}),e}function K(e,t){return Math.floor(Math.random()*(t-e))+e}function X(e){return e[K(0,e.length)]}var Z={feed:L(),alerts:Y()},H="https://dataminr-server.herokuapp.com/",Q=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(H+"alerts").then(function(e){return e.json()}).then(function(t){e.props.onAlertsFetched(t)}).catch(function(){console.log("using local mock data"),e.props.onAlertsFetched(Z.alerts)}),fetch(H+"feed").then(function(e){return e.json()}).then(function(t){e.props.onFeedFetched(t)}).catch(function(){console.log("using local mock data"),e.props.onFeedFetched(Z.feed)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App flex"},r.a.createElement("div",{className:"leftSections flex"},r.a.createElement(D,null),r.a.createElement(O,null)),r.a.createElement("div",{className:"rightSections"},r.a.createElement(S,null),r.a.createElement("div",{className:"flex"},r.a.createElement(F,null),r.a.createElement(x,null))))}}]),t}(n.Component),$=Object(o.b)(null,function(e){return{onAlertsFetched:function(t){e(function(e){return{type:p,payload:{alerts:e}}}(t))},onFeedFetched:function(t){e(function(e){return{type:d,payload:{feed:e}}}(t))}}})(Q);s.a.render(r.a.createElement(o.a,{store:g},r.a.createElement($,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d4a177f1.chunk.js.map