(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(49)},31:function(e,t,a){},32:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=a(1),s=a(14),l=a(10),d="SET_ACTIVE_FEED_INDEX",p="SET_ACTIVE_ALERT_INDEX",u="SET_FILTER",m="SET_FEED",f="SET_ALERTS";function h(e){return{type:d,payload:{index:e}}}function v(e){return{type:p,payload:{index:e}}}function g(e){return{type:u,payload:{searchTerm:e,filter:function(t){return t.content.toLowerCase().includes(e.toLowerCase())}}}}var y=function(e,t){switch(t.type){case m:return Object(l.a)({},e,{feed:t.payload.feed,filteredFeed:t.payload.feed});case f:return Object(l.a)({},e,{alerts:t.payload.alerts,filteredAlerts:t.payload.alerts});case d:return Object(l.a)({},e,{activeFeedIndex:t.payload.index,activeAlertIndex:void 0,mapCenter:e.feed[t.payload.index].location.coords});case p:return Object(l.a)({},e,{activeAlertIndex:t.payload.index,activeFeedIndex:void 0,mapCenter:e.alerts[t.payload.index].location.coords});case u:return Object(l.a)({},e,{activeFeedIndex:void 0,activeAlertIndex:void 0,searchTerm:t.payload.searchTerm,filteredFeed:e.feed.filter(t.payload.filter),filteredAlerts:e.alerts.filter(t.payload.filter)});default:return e}},b=Object(s.b)(y,{feed:[],filteredFeed:[],alerts:[],filteredAlerts:[],searchTerm:""}),E=(a(31),a(2)),j=a(3),k=a(5),O=a(4),N=a(6),T=(a(32),a(13)),w={width:"50%",height:"95%"},C=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).state={initialCenter:{lat:37.0902,lng:-80.6500523}},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props.google;return r.a.createElement(T.Map,{className:"map",google:this.props.google,zoom:this.props.mapCenter?5:3,style:w,initialCenter:this.state.initialCenter,center:this.props.mapCenter||this.state.initialCenter},this.props.feed.map(function(t,a){return r.a.createElement(T.Marker,{key:"marker"+a,onClick:function(){return e.props.onFeedMarkerClick(a)},position:t.location.coords,icon:{url:a===e.props.activeFeedIndex?"/dataminr/pinBlue.png":"/dataminr/pin.png"}})}),this.props.alerts.map(function(a,n){return r.a.createElement(T.Marker,{key:"marker"+n,onClick:function(){return e.props.onAlertMarkerClick(n)},position:a.location.coords,icon:{url:"http://www.myiconfinder.com/uploads/iconsets/256-256-369f997cef4f440c5394ed2ae6f8eecd.png",scaledSize:new t.maps.Size(36,44)}})}))}}]),t}(n.Component),x=Object(c.b)(function(e){return{feed:e.filteredFeed,alerts:e.filteredAlerts,mapCenter:e.mapCenter,activeAlertIndex:e.activeAlertIndex,activeFeedIndex:e.activeFeedIndex}},function(e){return{onFeedMarkerClick:function(t){e(h(t))},onAlertMarkerClick:function(t){e(v(t))}}})(Object(T.GoogleApiWrapper)({apiKey:"AIzaSyBSVR2Sk1Qx2nv7duw3_y-gIfqjeykvPK8"})(C)),I=(a(47),function(e){function t(){return Object(E.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},r.a.createElement("span",{className:"searchIcon"},"\u26b2"),r.a.createElement("input",{value:this.props.searchTerm,onChange:this.props.onInputChange}),r.a.createElement("span",{className:"brandName"},"Dataminr"))}}]),t}(n.Component)),A=Object(c.b)(function(e){return{searchTerm:e.searchTerm}},function(e){return{onInputChange:function(t){e(g(t.currentTarget.value))}}})(I),F=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).state={terms:["fire","New","earthquake","party","accident"]},a}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"relatedTerms"},this.state.terms.map(function(t,a){return r.a.createElement("span",{"data-term":t,className:"term",key:"term"+a,onClick:e.props.onTermClick},r.a.createElement("span",{className:"searchIcon"},"\u26b2"),t)}))}}]),t}(n.Component),M=Object(c.b)(null,function(e){return{onTermClick:function(t){e(g(t.currentTarget.dataset.term))}}})(F);function S(){for(var e,t=[],a=0;a<25;a++){var n={};n.type=Y(D),n.time=_(),n.name="@"+Y(L)+Y(z)+G(1,99),n.location=q(),n.content=(e=n.location,Y(P)+" "+Y(U)+" "+Y(V)+" in "+e.name+Y(W)+" "+B.split(" ").slice(0,G(10,36)).join(" ")),t.push(n)}return t.sort(function(e,t){return new Date(e.time)-new Date(t.time)})}var D=["MN","LN","ALT"];function _(e,t){var a=new Date,n=23*Math.random();return a.setHours(n),a}var L=["steve","john","bob","George","Zack","Alex"],z=["Smith","Jones","Davis","Wiliams","News","Alerts","Updates","TV","Times"];var R=[{name:"New York",coords:{lat:40.7128,lng:-74.006}},{name:"California",coords:{lat:36.7783,lng:-119.4179}},{name:"Florida",coords:{lat:27.6648,lng:-81.5158}},{name:"Texas",coords:{lat:31.9686,lng:-99.9018}},{name:"Utah",coords:{lat:39.321,lng:-111.0937}},{name:"Iowa",coords:{lat:41.878,lng:-93.0977}},{name:"North Carolina",coords:{lat:35.7596,lng:-79.0193}},{name:"Kentucky",coords:{lat:37.8393,lng:-84.27}},{name:"Washington",coords:{lat:47.7511,lng:-120.7401}}];function q(){var e=JSON.parse(JSON.stringify(Y(R)));return e.coords.lat+=.6*Math.random()*Math.pow(-1,G(1,3)),e.coords.lng+=.6*Math.random()*Math.pow(-1,G(1,3)),e}var P=["Wow,","Can't believe it,","Check out the","Urgent!","News flash!","Alert!"],U=["big","giant","huge","small","crazy","rediculous","insane"],V=["fire","earthquake","flood","tornado","accident","crash","party"],W=[".","!","!!"],B="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";function J(){var e=[],t=new Date;return e.push({type:"MN",time:new Date(t-1728e5),name:"@NYTimes",location:R[0],image:"https://media.zenfs.com/en-US/homerun/usa_today_news_641/d69f7bba918efe68b4a072f3c5d05e2a",content:"Police: Explosion and fire at Virginia gas station leaves three people dead"+B.split(" ").slice(0,G(10,36)).join(" ")}),e.push({type:"CTR",time:new Date(t-2592e5),name:"@Reuters",location:R[2],content:"Iran commander calls U.S. military in Gulf a target not a threat: ISNA"+B.split(" ").slice(0,G(10,36)).join(" ")}),e.push({type:"CTR",time:new Date(t-3456e5),name:"@USAToday",location:R[2],image:"https://s.yimg.com/uu/api/res/1.2/kzb3DT_zEqPoLtw13SaVLg--~B/Zmk9c3RyaW07aD0xMjM7cHlvZmY9MDtxPTgwO3c9MjIwO3NtPTE7YXBwaWQ9eXRhY2h5b24-/http://media.zenfs.com/en_us/News/afp.com/9c59bd9990c8fd33e2f7cbfb433ad2fbebd5c3f8.jpg.cf.jpg",content:"Venezuela's Juan Guaid\xf3 rallies his supporters as President Maduro clamps down"+B.split(" ").slice(0,G(10,36)).join(" ")}),e.push({type:"MKT",time:new Date(t-432e6),name:"@Reuters",location:R[2],content:"Graduation gifts: Why stocks are better than straight cash"+B.split(" ").slice(0,G(10,36)).join(" ")}),e}function G(e,t){return Math.floor(Math.random()*(t-e))+e}function Y(e){return e[G(0,e.length)]}var K={feed:S(),alerts:J()},X=function(e){function t(){return Object(E.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"post"+(this.props.active?" active":"")},r.a.createElement("div",{className:"type semibold left"},this.props.post.type),r.a.createElement("div",{className:"date right"},new Date(this.props.post.time).toLocaleTimeString()),r.a.createElement("div",{className:"clearfix"}),this.props.post.image&&r.a.createElement("img",{alt:"news img",className:"right",src:this.props.post.image}),r.a.createElement("span",{className:"name"},this.props.post.name,":"),r.a.createElement("span",{className:"content"},this.props.post.content),r.a.createElement("div",{className:"clearfix"}))}}]),t}(n.Component),Z=Object(c.b)(function(e){return{}},{})(X),H=(a(48),function(e){function t(){return Object(E.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex "+this.props.type},r.a.createElement("div",{className:"header"},this.props.headerTxt),r.a.createElement("div",{className:"feed"},this.props.feed.map(function(t,a){return r.a.createElement("div",{onClick:function(){return e.props.onPostClick(a)},key:"post"+a,id:"post"+a},r.a.createElement(Z,{post:t,active:a===e.props.activeIndex}))}),!this.props.feed.length&&this.props.hasSearchTerm&&r.a.createElement("div",{className:"emptyMessage"},"No posts found"),!this.props.feed.length&&!this.props.hasSearchTerm&&r.a.createElement("div",{className:"loader"},r.a.createElement("div",null,"Loading"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}},{key:"componentDidUpdate",value:function(){this.props.activeIndex&&i.a.findDOMNode(this).querySelector("#post"+this.props.activeIndex).scrollIntoViewIfNeeded()}}]),t}(n.Component)),Q=Object(c.b)(function(e,t){return{type:t.type,headerTxt:t.header,feed:"trending"===t.type?e.filteredFeed:e.filteredAlerts,activeIndex:"trending"===t.type?e.activeFeedIndex:e.activeAlertIndex,hasSearchTerm:!!e.searchTerm}},function(e,t){var a="trending"===t.type?h:v;return{onPostClick:function(t){e(a(t))}}})(H),$="https://dataminr-server.herokuapp.com/",ee=function(e){function t(){return Object(E.a)(this,t),Object(k.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch($+"alerts").then(function(e){return e.json()}).then(function(t){e.props.onAlertsFetched(t)}).catch(function(){console.log("using local mock data"),e.props.onAlertsFetched(K.alerts)}),fetch($+"feed").then(function(e){return e.json()}).then(function(t){e.props.onFeedFetched(t)}).catch(function(){console.log("using local mock data"),e.props.onFeedFetched(K.feed)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App flex"},r.a.createElement("div",{className:"leftSections flex"},r.a.createElement(M,null),r.a.createElement(Q,{type:"trending",header:"Trending Messages"})),r.a.createElement("div",{className:"rightSections"},r.a.createElement(A,null),r.a.createElement("div",{className:"flex"},r.a.createElement(Q,{type:"alerts",header:"Alerts"}),r.a.createElement(x,null))))}}]),t}(n.Component),te=Object(c.b)(null,function(e){return{onAlertsFetched:function(t){e(function(e){return{type:f,payload:{alerts:e}}}(t))},onFeedFetched:function(t){e(function(e){return{type:m,payload:{feed:e}}}(t))}}})(ee);i.a.render(r.a.createElement(c.a,{store:b},r.a.createElement(te,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.97c39467.chunk.js.map